

<!DOCTYPE html>
<html class="writer-html4" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Multi-demographic sub-networks &mdash; MetaWards Documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../_static/custom.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Mixers and Merge-functions" href="02_mixers.html" />
    <link rel="prev" title="Part 5 - Modelling multiple demographics" href="../index_part05.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html">
          

          
            
            <img src="../../_static/logo.jpg" class="logo" alt="Logo"/>
          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
  <div id="version_box"></div>
</div>


          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../features.html">Features</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../install.html">Installation instructions</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../model_data.html">Model data</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Tutorial</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../index_part01.html">Part 1 - Modelling outbreaks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index_part02.html">Part 2 - Refining the model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index_part03.html">Part 3 - Customising the outbreak</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index_part04.html">Part 4 - Customising the output</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index_part05.html">Part 5 - Modelling multiple demographics</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">Multi-demographic sub-networks</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#understanding-network">Understanding Network</a></li>
<li class="toctree-l4"><a class="reference internal" href="#understanding-networks">Understanding Networks</a></li>
<li class="toctree-l4"><a class="reference internal" href="#seeding-different-demographics">Seeding different demographics</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="02_mixers.html">Mixers and Merge-functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="03_custom.html">Using custom merge functions to model shielding</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../index_part06.html">Part 6 - Moving between demographics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index_part07.html">Part 7 - Different pathways for different demographics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index_part08.html">Part 8 - Different networks for different demographics</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../fileformats/index.html">Input files and formats</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../usage.html">Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cluster_usage.html">Running on a cluster</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../support.html">Help and support</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../devsupport.html">Developer Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../roadmap.html">Roadmap</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../packaging.html">Packaging releases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../development.html">Developer’s guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../snaglist.html">Snag list</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../api/index.html">Documentation</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../changelog.html">Changelog</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../acknowledgements.html">Acknowledgements</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">MetaWards</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../index.html">Tutorial</a> &raquo;</li>
        
          <li><a href="../index_part05.html">Part 5 - Modelling multiple demographics</a> &raquo;</li>
        
      <li>Multi-demographic sub-networks</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <div class="rst-breadcrumbs-buttons" role="navigation" aria-label="breadcrumb navigation">
      
        <a href="02_mixers.html" class="btn btn-neutral float-right" title="Mixers and Merge-functions" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../index_part05.html" class="btn btn-neutral float-left" title="Part 5 - Modelling multiple demographics" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
  </div>
  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="multi-demographic-sub-networks">
<h1>Multi-demographic sub-networks<a class="headerlink" href="#multi-demographic-sub-networks" title="Permalink to this headline">¶</a></h1>
<p>So far every member of the population during a <code class="docutils literal notranslate"><span class="pre">metawards</span></code> <em>model run</em> has
been treated equally. There was no concept of different groups of individuals,
e.g. school children, hospital patients, holiday-makers etc. being
modelled any differently. The only distinction was between <em>workers</em>,
who made fixed movements (potentially between wards)
during the day, and random interactions within their home ward in
the evening, and <em>players</em>, who just made random interactions within
their home ward.</p>
<div class="section" id="understanding-network">
<h2>Understanding Network<a class="headerlink" href="#understanding-network" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference internal" href="../../api/generated/metawards.Network.html#metawards.Network" title="metawards.Network"><code class="xref py py-class docutils literal notranslate"><span class="pre">Network</span></code></a> class models this network of <em>workers</em> and
<em>players</em>. It holds a set of <a class="reference internal" href="../../api/generated/metawards.Nodes.html#metawards.Nodes" title="metawards.Nodes"><code class="xref py py-class docutils literal notranslate"><span class="pre">Nodes</span></code></a> that represent each
electoral ward, and a set of <a class="reference internal" href="../../api/generated/metawards.Links.html#metawards.Links" title="metawards.Links"><code class="xref py py-class docutils literal notranslate"><span class="pre">Links</span></code></a> that represent the
fixed motions between wards made by the “workers”.</p>
<p>The <a class="reference internal" href="../../api/generated/metawards.Node.html#metawards.Node" title="metawards.Node"><code class="xref py py-class docutils literal notranslate"><span class="pre">Node</span></code></a> class holds the number of <em>players</em> who
are susceptible to infection (S). This is held in the variable
<a class="reference internal" href="../../api/generated/metawards.Node.html#metawards.Node.play_suscept" title="metawards.Node.play_suscept"><code class="xref py py-data docutils literal notranslate"><span class="pre">metawards.Node.play_suscept</span></code></a>.</p>
<p>The <a class="reference internal" href="../../api/generated/metawards.Link.html#metawards.Link" title="metawards.Link"><code class="xref py py-class docutils literal notranslate"><span class="pre">Link</span></code></a> class contains the number of <em>workers</em> who are
susceptible to infection (S) who travel regularly between their
“home” ward and their “work” ward. This is held in the
variable <a class="reference internal" href="../../api/generated/metawards.Link.html#metawards.Link.suscept" title="metawards.Link.suscept"><code class="xref py py-data docutils literal notranslate"><span class="pre">metawards.Link.suscept</span></code></a>.</p>
<p>During a <em>model run</em> these values will be reduced as individuals are
infected and then progressed through the different disease stages.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">These variables are stored as double precision floating point numbers,
despite representing integer values. This is because it
is more efficient to use double precision numbers when they are used
for calculations during a <em>model run</em>.</p>
</div>
</div>
<div class="section" id="understanding-networks">
<h2>Understanding Networks<a class="headerlink" href="#understanding-networks" title="Permalink to this headline">¶</a></h2>
<p>To model multiple demographics, we need to create space for multiple different
sets of <em>workers</em> and <em>players</em>. This is achieved in <code class="docutils literal notranslate"><span class="pre">metawards</span></code> by
giving each demographic its own <a class="reference internal" href="../../api/generated/metawards.Network.html#metawards.Network" title="metawards.Network"><code class="xref py py-class docutils literal notranslate"><span class="pre">Network</span></code></a>. All of these
demographic sub-networks are merged and managed via the
<a class="reference internal" href="../../api/generated/metawards.Networks.html#metawards.Networks" title="metawards.Networks"><code class="xref py py-class docutils literal notranslate"><span class="pre">Networks</span></code></a> class.</p>
<p>We create a <a class="reference internal" href="../../api/generated/metawards.Networks.html#metawards.Networks" title="metawards.Networks"><code class="xref py py-class docutils literal notranslate"><span class="pre">Networks</span></code></a> object by first specifying the way
we would like to distribute the population between different demographics.
We do this by writing a <em>demographics</em> file, which is a simple
<a class="reference external" href="https://guide.couchdb.org/draft/json.html">JSON-format</a>
file. First, create a file called <code class="docutils literal notranslate"><span class="pre">demographics.json</span></code> and copy in the below;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;demographics&quot;</span> <span class="p">:</span> <span class="p">[</span><span class="s2">&quot;red&quot;</span><span class="p">,</span> <span class="s2">&quot;blue&quot;</span><span class="p">],</span>
  <span class="s2">&quot;work_ratios&quot;</span>  <span class="p">:</span> <span class="p">[</span> <span class="mf">0.0</span><span class="p">,</span>   <span class="mf">1.0</span>  <span class="p">],</span>
  <span class="s2">&quot;play_ratios&quot;</span>  <span class="p">:</span> <span class="p">[</span> <span class="mf">0.5</span><span class="p">,</span>   <span class="mf">0.5</span>  <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p>This file specifies that the population will be distributed between
two demographics, <em>red</em> and <em>blue</em>, named in the <code class="docutils literal notranslate"><span class="pre">demographics</span></code>
field. You can have as many or as few demographics as you wish, and
can name them in any way you want.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">work_ratios</span></code> lists the ratio (or percentage) of the <em>worker</em> population
that should belong to each demographic. For example, here all of the
<em>workers</em> are in the <em>blue</em> demographic, and none of the workers are
in the <em>red</em> demographic.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">play_ratios</span></code> lists the ratio (or percentage) of the <em>player</em> population
that should belong to each demographic. For example, here 50% of the
<em>players</em> are in the <em>red</em> demographic, and 50% of the <em>players</em> are in the
<em>blue</em> demographic.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">You can specify the work and play ratios using either numbers between
0.0 and 1.0, or you can pass in strings that are interpreted using
<a class="reference internal" href="../../api/generated/metawards.Interpret.html#metawards.Interpret.number" title="metawards.Interpret.number"><code class="xref py py-func docutils literal notranslate"><span class="pre">metawards.Interpret.number()</span></code></a>, e.g. “50%”, “1/4” or
“(10+15)%”. The only requirement is that the sum of ratios must
equal 1.0 (or 100%), as every individual must be assigned to one
of the demographics.</p>
</div>
<p>Now that you have created the <code class="docutils literal notranslate"><span class="pre">demographics.json</span></code> file, you can tell
<code class="docutils literal notranslate"><span class="pre">metawards</span></code> to use it via the <code class="docutils literal notranslate"><span class="pre">--demographics</span></code>, or <code class="docutils literal notranslate"><span class="pre">-D</span></code>,
command line argument. Run <code class="docutils literal notranslate"><span class="pre">metawards</span></code> using;</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>metawards -d lurgy3 -D demographics.json
</pre></div>
</div>
<p>In the output you should see lines such as;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ Specialising into demographics ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
Demographics demographics.json
loaded from demographics.json
version: None
author(s): unknown
contact(s): unknown
references(s): none
repository: None
repository_branch: None
repository_version: None
demographics = [
    Demographic(name=&#39;red&#39;, work_ratio=0.0, play_ratio=0.5, adjustment=None)
    Demographic(name=&#39;blue&#39;, work_ratio=1.0, play_ratio=0.5, adjustment=None)
]
Seeding generator used for demographics with seed 4751828
Using random number seed: 4751828
Number of differences is 0.0 + 0.0
Specialising network - population: 56082077
red - population: 16806530
blue - population: 39275547
</pre></div>
</div>
<p>These show that your demographics file was read correctly. In this case,
this has specialised the <a class="reference internal" href="../../api/generated/metawards.Network.html#metawards.Network" title="metawards.Network"><code class="xref py py-class docutils literal notranslate"><span class="pre">Network</span></code></a> which modelled a
population of 56082077 individuals into a <a class="reference internal" href="../../api/generated/metawards.Networks.html#metawards.Networks" title="metawards.Networks"><code class="xref py py-class docutils literal notranslate"><span class="pre">Networks</span></code></a>
which has a <em>red</em> population of 16806530 and a <em>blue</em> population of
39275547.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">A fixed random number seed is used to assign left-over individuals
to a random demographic. For example, 10 individuals cannot be divided
equally between 3 demographics, so one randomly chosen demographic
will have 4 individuals, while the other two will have 3. This
division is performed by <code class="docutils literal notranslate"><span class="pre">metawards</span></code> in every single
<a class="reference internal" href="../../api/generated/metawards.Node.html#metawards.Node" title="metawards.Node"><code class="xref py py-class docutils literal notranslate"><span class="pre">Node</span></code></a> and every single <a class="reference internal" href="../../api/generated/metawards.Link.html#metawards.Link" title="metawards.Link"><code class="xref py py-class docutils literal notranslate"><span class="pre">Link</span></code></a>,
to ensure that every individual is allocated. This random seed is
hard-coded to <code class="docutils literal notranslate"><span class="pre">4751828</span></code>. Or, you can set it for a demographic
by adding <code class="docutils literal notranslate"><span class="pre">&quot;random_seed&quot;</span> <span class="pre">=</span> <span class="pre">number</span></code> to the <em>demographics</em> file,
e.g. <code class="docutils literal notranslate"><span class="pre">&quot;random_seed&quot;</span> <span class="pre">=</span> <span class="pre">10859403</span></code>.</p>
</div>
<p>Once the <a class="reference internal" href="../../api/generated/metawards.Networks.html#metawards.Networks" title="metawards.Networks"><code class="xref py py-class docutils literal notranslate"><span class="pre">Networks</span></code></a> had been specialised, the <em>model run</em>
was performed as before. Now, the output shows the S, E, I, R values
for both the overall total population, and also for the demographic
sub-network populations, e.g.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ Day 0 ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
S: 56082077  E: 0  I: 0  R: 0  IW: 0  POPULATION: 56082077
   red  S: 16806530  E: 0  I: 0  R: 0  IW: 0  POPULATION: 16806530
  blue  S: 39275547  E: 0  I: 0  R: 0  IW: 0  POPULATION: 39275547
Number of infections: 0

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ Day 1 ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
S: 56082077  E: 0  I: 0  R: 0  IW: 0  POPULATION: 56082077
   red  S: 16806530  E: 0  I: 0  R: 0  IW: 0  POPULATION: 16806530
  blue  S: 39275547  E: 0  I: 0  R: 0  IW: 0  POPULATION: 39275547
Number of infections: 0

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ Day 2 ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
S: 56082077  E: 0  I: 0  R: 0  IW: 0  POPULATION: 56082077
   red  S: 16806530  E: 0  I: 0  R: 0  IW: 0  POPULATION: 16806530
  blue  S: 39275547  E: 0  I: 0  R: 0  IW: 0  POPULATION: 39275547
Number of infections: 0

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ Day 3 ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
S: 56082077  E: 0  I: 0  R: 0  IW: 0  POPULATION: 56082077
   red  S: 16806530  E: 0  I: 0  R: 0  IW: 0  POPULATION: 16806530
  blue  S: 39275547  E: 0  I: 0  R: 0  IW: 0  POPULATION: 39275547
Number of infections: 0

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ Day 4 ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
S: 56082077  E: 0  I: 0  R: 0  IW: 0  POPULATION: 56082077
   red  S: 16806530  E: 0  I: 0  R: 0  IW: 0  POPULATION: 16806530
  blue  S: 39275547  E: 0  I: 0  R: 0  IW: 0  POPULATION: 39275547
Number of infections: 0
Infection died ... Ending on day 5
</pre></div>
</div>
<p>In this case no infection was seeded, so nothing appears to happen.</p>
<p>We can seed an infection just as before, by using the <code class="docutils literal notranslate"><span class="pre">--additional</span></code>
(or <code class="docutils literal notranslate"><span class="pre">-a</span></code>) option, e.g. now run;</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>metawards -d lurgy3 -D demographics.json -a ExtraSeedsLondon.dat
</pre></div>
</div>
<p>You should see output similar (but not identical) to;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ Day 249 ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
S: 56079607  E: 0  I: 2  R: 2468  IW: 0  POPULATION: 56082077
   red  S: 16804060  E: 0  I: 2  R: 2468  IW: 0  POPULATION: 16806530
  blue  S: 39275547  E: 0  I: 0  R:    0  IW: 0  POPULATION: 39275547
Number of infections: 2

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ Day 250 ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
S: 56079607  E: 0  I: 2  R: 2468  IW: 0  POPULATION: 56082077
   red  S: 16804060  E: 0  I: 2  R: 2468  IW: 0  POPULATION: 16806530
  blue  S: 39275547  E: 0  I: 0  R:    0  IW: 0  POPULATION: 39275547
Number of infections: 2

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ Day 251 ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
S: 56079607  E: 0  I: 1  R: 2469  IW: 0  POPULATION: 56082077
   red  S: 16804060  E: 0  I: 1  R: 2469  IW: 0  POPULATION: 16806530
  blue  S: 39275547  E: 0  I: 0  R:    0  IW: 0  POPULATION: 39275547
Number of infections: 1

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ Day 252 ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
S: 56079607  E: 0  I: 1  R: 2469  IW: 0  POPULATION: 56082077
   red  S: 16804060  E: 0  I: 1  R: 2469  IW: 0  POPULATION: 16806530
  blue  S: 39275547  E: 0  I: 0  R:    0  IW: 0  POPULATION: 39275547
Number of infections: 1

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ Day 253 ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
S: 56079607  E: 0  I: 0  R: 2470  IW: 0  POPULATION: 56082077
   red  S: 16804060  E: 0  I: 0  R: 2470  IW: 0  POPULATION: 16806530
  blue  S: 39275547  E: 0  I: 0  R:    0  IW: 0  POPULATION: 39275547
Number of infections: 0
Infection died ... Ending on day 254
</pre></div>
</div>
<p>By default, infections are seeded into the first demographic (in this case
<em>red</em>). This demographic are <em>players</em>, so only interact in their home
ward via random interactions. As such, the infection did not spread
beyond that home ward and so it died out quite quickly.</p>
</div>
<div class="section" id="seeding-different-demographics">
<h2>Seeding different demographics<a class="headerlink" href="#seeding-different-demographics" title="Permalink to this headline">¶</a></h2>
<p>You can seed different demographics by specifying the demographic in
the additional seeding file. Create a new seeding file called
<code class="docutils literal notranslate"><span class="pre">ExtraSeedsLondonBlue.dat</span></code> and copy in the below;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">1</span>  <span class="mi">5</span>  <span class="mi">255</span>  <span class="n">blue</span>
</pre></div>
</div>
<p>The format of this file is a list of lines that say which wards should
be seeded. In this case, there is just one line containing four values.</p>
<ul class="simple">
<li>The first value (<code class="docutils literal notranslate"><span class="pre">1</span></code>) is the day of seeding, in this case on day 1.</li>
<li>The second value  (<code class="docutils literal notranslate"><span class="pre">5</span></code>) is the number of individuals to infect, in
this case 5.</li>
<li>The third value (<code class="docutils literal notranslate"><span class="pre">255</span></code>) is the index of the ward to infect. You can find
the index of the ward you want using the <a class="reference internal" href="../../api/generated/metawards.WardInfos.html#metawards.WardInfos" title="metawards.WardInfos"><code class="xref py py-class docutils literal notranslate"><span class="pre">WardInfos</span></code></a>
object, e.g. via <code class="docutils literal notranslate"><span class="pre">network.info.find(&quot;...&quot;)</span></code>.</li>
<li>The fourth value (<code class="docutils literal notranslate"><span class="pre">blue</span></code>) is the name or index of the demographic
you want to seed.</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If you want, you could have specified the demographic in this file by
its index (<code class="docutils literal notranslate"><span class="pre">1</span></code>) rather than by its name (<code class="docutils literal notranslate"><span class="pre">blue</span></code>). It is up to you.</p>
</div>
<p>The <em>blue</em> demographic contains all of the <em>workers</em>, so we would expect
to see a different outbreak. Perform a <em>model run</em> using;</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>metawards -d lurgy3 -D demographics.json -a ExtraSeedsLondonBlue.dat
</pre></div>
</div>
<p>You should see a more sustained outbreak, ending in a similar way to this;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ Day 147 ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
S: 16864032  E: 0  I: 1  R: 39218044  IW: 0  POPULATION: 56082077
   red  S: 16806530  E: 0  I: 0  R:        0  IW: 0  POPULATION: 16806530
  blue  S:    57502  E: 0  I: 1  R: 39218044  IW: 0  POPULATION: 39275547
Number of infections: 1

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ Day 148 ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
S: 16864032  E: 0  I: 1  R: 39218044  IW: 0  POPULATION: 56082077
   red  S: 16806530  E: 0  I: 0  R:        0  IW: 0  POPULATION: 16806530
  blue  S:    57502  E: 0  I: 1  R: 39218044  IW: 0  POPULATION: 39275547
Number of infections: 1

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ Day 149 ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
S: 16864032  E: 0  I: 0  R: 39218045  IW: 0  POPULATION: 56082077
   red  S: 16806530  E: 0  I: 0  R:        0  IW: 0  POPULATION: 16806530
  blue  S:    57502  E: 0  I: 0  R: 39218045  IW: 0  POPULATION: 39275547
Number of infections: 0
Infection died ... Ending on day 150
</pre></div>
</div>
<p>Because the <em>blue workers</em> could move between wards, they were able to carry
the infection across the country, meaning that most members of the <em>blue</em>
demographic were infected.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="02_mixers.html" class="btn btn-neutral float-right" title="Mixers and Merge-functions" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../index_part05.html" class="btn btn-neutral float-left" title="Part 5 - Modelling multiple demographics" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
      <span class="lastupdated">
        Last updated on Jul 13, 2020.
      </span>

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>