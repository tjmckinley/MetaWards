

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Self-isolation duration &mdash; MetaWards Documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/custom.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="How many days of self-isolation is needed?" href="03_scan_duration.html" />
    <link rel="prev" title="Movers and go functions" href="01_movers.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html">
          

          
            
            <img src="../../_static/logo.jpg" class="logo" alt="Logo"/>
          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
  <div id="version_box"></div>
</div>


          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../features.html">Features</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../install.html">Installation instructions</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../model_data.html">Model data</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../quickstart/index.html">Quick Start Guide</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Tutorial</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../index_part01.html">Part 1 - Modelling outbreaks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index_part02.html">Part 2 - Refining the model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index_part03.html">Part 3 - Customising the outbreak</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index_part04.html">Part 4 - Customising the output</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index_part05.html">Part 5 - Modelling multiple demographics</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index_part06.html">Part 6 - Moving between demographics</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="01_movers.html">Movers and go functions</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Self-isolation duration</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#using-demographics-to-represent-days">Using demographics to represent days</a></li>
<li class="toctree-l4"><a class="reference internal" href="#moving-daily">Moving daily</a></li>
<li class="toctree-l4"><a class="reference internal" href="#mixing-home-and-released">Mixing home and released</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="03_scan_duration.html">How many days of self-isolation is needed?</a></li>
<li class="toctree-l3"><a class="reference internal" href="04_compliance.html">Conditional Compliance</a></li>
<li class="toctree-l3"><a class="reference internal" href="05_quarantine.html">Staying under quarantine</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../index_part07.html">Part 7 - Different pathways for different demographics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index_part08.html">Part 8 - Creating your own models / networks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index_part09.html">Part 9 - Advanced Moves and Scenarios</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../fileformats/index.html">Input files and formats</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../usage.html">Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cluster_usage.html">Running on a cluster</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../support.html">Help and support</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../devsupport.html">Developer Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../roadmap.html">Roadmap</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../packaging.html">Packaging releases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../development.html">Developer’s guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../snaglist.html">Snag list</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../api/index.html">Documentation</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../changelog.html">Changelog</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../acknowledgements.html">Acknowledgements</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">MetaWards</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../index.html">Tutorial</a> &raquo;</li>
        
          <li><a href="../index_part06.html">Part 6 - Moving between demographics</a> &raquo;</li>
        
      <li>Self-isolation duration</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
    
  </ul>

  
  <div class="rst-breadcrumbs-buttons" role="navigation" aria-label="breadcrumb navigation">
      
        <a href="03_scan_duration.html" class="btn btn-neutral float-right" title="How many days of self-isolation is needed?" accesskey="n">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
      
      
        <a href="01_movers.html" class="btn btn-neutral float-left" title="Movers and go functions" accesskey="p"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
      
  </div>
  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="self-isolation-duration">
<h1>Self-isolation duration<a class="headerlink" href="#self-isolation-duration" title="Permalink to this headline">¶</a></h1>
<p>In the last section we saw how self-isolation and a population that
took steps to reduce transmissability of the virus could dramatically
reduce the spread of the disease. However, in that model infected
individuals were moved into self-isolation for the entire duration
of the outbreak. This is clearly unrealistic.</p>
<div class="section" id="using-demographics-to-represent-days">
<h2>Using demographics to represent days<a class="headerlink" href="#using-demographics-to-represent-days" title="Permalink to this headline">¶</a></h2>
<p>Typical advice to someone who is self-isolating is that they should
self-isolate for a set number of days. We can model this by using
different self-isolation demographics to represent the different
days that individuals start their self-isolation. For example,
if self-isolation was for seven days, then we could have a
self-isolation demographic for each day of the week. Once a week
is up, then the individuals who are self-isolating in that
day-demographic are released and moved to the “released” demographic.
Newly infected individuals for that day are then moved into
the now-empty day-demographic.</p>
<p>To do this, create a new demographics file called <code class="docutils literal notranslate"><span class="pre">demographics.json</span></code>
and copy in the below;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;demographics&quot;</span> <span class="p">:</span> <span class="p">[</span><span class="s2">&quot;home&quot;</span><span class="p">,</span> <span class="s2">&quot;released&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;isolate_0&quot;</span><span class="p">,</span> <span class="s2">&quot;isolate_1&quot;</span><span class="p">,</span> <span class="s2">&quot;isolate_2&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;isolate_3&quot;</span><span class="p">,</span> <span class="s2">&quot;isolate_4&quot;</span><span class="p">,</span> <span class="s2">&quot;isolate_5&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;isolate_6&quot;</span> <span class="p">],</span>
  <span class="s2">&quot;work_ratios&quot;</span>  <span class="p">:</span> <span class="p">[</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span>
                     <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span> <span class="p">],</span>
  <span class="s2">&quot;play_ratios&quot;</span>  <span class="p">:</span> <span class="p">[</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span>
                     <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span> <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p>This creates the <code class="docutils literal notranslate"><span class="pre">home</span></code> demographic, plus one <code class="docutils literal notranslate"><span class="pre">isolate</span></code> demographic
for each day of the week. There is also a <code class="docutils literal notranslate"><span class="pre">released</span></code> demographic
that will be used to release individuals from self-isolation.</p>
</div>
<div class="section" id="moving-daily">
<h2>Moving daily<a class="headerlink" href="#moving-daily" title="Permalink to this headline">¶</a></h2>
<p>We start with all individuals placed into the <code class="docutils literal notranslate"><span class="pre">home</span></code> demographic. We will
now write a custom move function that will move individuals into the
assigned <code class="docutils literal notranslate"><span class="pre">isolate_N</span></code> demographic for the day in which they develop
symptoms. This move function will move them into the <code class="docutils literal notranslate"><span class="pre">released</span></code> demographic
once they have spent seven days in self-isolation. To do this,
create a move function called <code class="docutils literal notranslate"><span class="pre">move_isolate.py</span></code> and copy in the below;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">metawards</span> <span class="kn">import</span> <span class="n">Population</span>
<span class="kn">from</span> <span class="nn">metawards.movers</span> <span class="kn">import</span> <span class="n">go_isolate</span><span class="p">,</span> <span class="n">go_to</span>

<span class="k">def</span> <span class="nf">move_isolate</span><span class="p">(</span><span class="n">population</span><span class="p">:</span> <span class="n">Population</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="n">day</span> <span class="o">=</span> <span class="n">population</span><span class="o">.</span><span class="n">day</span> <span class="o">%</span> <span class="mi">7</span>
    <span class="n">isolate</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;isolate_</span><span class="si">{</span><span class="n">day</span><span class="si">}</span><span class="s2">&quot;</span>

    <span class="n">go_isolate_day</span> <span class="o">=</span> <span class="k">lambda</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">go_isolate</span><span class="p">(</span>
                                        <span class="n">go_from</span><span class="o">=</span><span class="s2">&quot;home&quot;</span><span class="p">,</span>
                                        <span class="n">go_to</span><span class="o">=</span><span class="n">isolate</span><span class="p">,</span>
                                        <span class="n">self_isolate_stage</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
                                        <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="n">go_released</span> <span class="o">=</span> <span class="k">lambda</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">go_to</span><span class="p">(</span><span class="n">go_from</span><span class="o">=</span><span class="n">isolate</span><span class="p">,</span>
                                         <span class="n">go_to</span><span class="o">=</span><span class="s2">&quot;released&quot;</span><span class="p">,</span>
                                         <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">return</span> <span class="p">[</span><span class="n">go_released</span><span class="p">,</span> <span class="n">go_isolate_day</span><span class="p">]</span>
</pre></div>
</div>
<p>This function works out which <code class="docutils literal notranslate"><span class="pre">isolate_N</span></code> demographic to use based
on the day of the week (<code class="docutils literal notranslate"><span class="pre">population.day</span> <span class="pre">%</span> <span class="pre">7</span></code> returns a number from <code class="docutils literal notranslate"><span class="pre">0</span></code>
to <code class="docutils literal notranslate"><span class="pre">6</span></code>).</p>
<p>It then creates two <code class="docutils literal notranslate"><span class="pre">go</span> <span class="pre">functions</span></code>. The first, <code class="docutils literal notranslate"><span class="pre">go_isolate_day</span></code>
is a <a class="reference internal" href="../../api/generated/metawards.movers.go_isolate.html#metawards.movers.go_isolate" title="metawards.movers.go_isolate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">go_isolate()</span></code></a> that moves infected
individuals from <code class="docutils literal notranslate"><span class="pre">home</span></code> into the <code class="docutils literal notranslate"><span class="pre">isolate_N</span></code> demographic of that day.</p>
<p>The second, <code class="docutils literal notranslate"><span class="pre">go_released</span></code> calls <a class="reference internal" href="../../api/generated/metawards.movers.go_to.html#metawards.movers.go_to" title="metawards.movers.go_to"><code class="xref py py-meth docutils literal notranslate"><span class="pre">go_to()</span></code></a> to
send all individuals who are in that <code class="docutils literal notranslate"><span class="pre">isolate_N</span></code> demographic
to the <code class="docutils literal notranslate"><span class="pre">released</span></code> demographic.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">move_isolate</span></code> function returns <code class="docutils literal notranslate"><span class="pre">go_released</span></code> first, so that
everyone who ends their self-isolation leaves before <code class="docutils literal notranslate"><span class="pre">go_isolate_day</span></code>
then sends in the new cohort of infected individuals.</p>
</div>
<div class="section" id="mixing-home-and-released">
<h2>Mixing home and released<a class="headerlink" href="#mixing-home-and-released" title="Permalink to this headline">¶</a></h2>
<p>Next, create a <code class="docutils literal notranslate"><span class="pre">mixing</span> <span class="pre">function</span></code> that merges the FOIs of the <code class="docutils literal notranslate"><span class="pre">home</span></code>
and <code class="docutils literal notranslate"><span class="pre">released</span></code> demographics evenly, while making sure that everyone
in the <code class="docutils literal notranslate"><span class="pre">isolate_N</span></code> demographics is isolated and does not contribute
to any FOI.</p>
<p>Do this by creating a mixing function called <code class="docutils literal notranslate"><span class="pre">mix_isolate.py</span></code> and
copying in the below;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">metawards</span> <span class="kn">import</span> <span class="n">Networks</span>
<span class="kn">from</span> <span class="nn">metawards.mixers</span> <span class="kn">import</span> <span class="n">merge_using_matrix</span><span class="p">,</span> <span class="n">InteractionMatrix</span>

<span class="k">def</span> <span class="nf">mix_isolate</span><span class="p">(</span><span class="n">network</span><span class="p">:</span> <span class="n">Networks</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="n">matrix</span> <span class="o">=</span> <span class="n">InteractionMatrix</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">matrix</span><span class="o">.</span><span class="n">resize</span><span class="p">(</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">7</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="mf">0.0</span><span class="p">)</span>

    <span class="n">network</span><span class="o">.</span><span class="n">demographics</span><span class="o">.</span><span class="n">interaction_matrix</span> <span class="o">=</span> <span class="n">matrix</span>

    <span class="k">return</span> <span class="p">[</span><span class="n">merge_using_matrix</span><span class="p">]</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Note that we are using <a class="reference internal" href="../../api/generated/metawards.mixers.merge_using_matrix.html#metawards.mixers.merge_using_matrix" title="metawards.mixers.merge_using_matrix"><code class="xref py py-func docutils literal notranslate"><span class="pre">merge_using_matrix()</span></code></a>.
This may not be the right choice depending on how we want the
population dynamics to mix, e.g.
<a class="reference internal" href="../../api/generated/metawards.mixers.merge_matrix_single_population.html#metawards.mixers.merge_matrix_single_population" title="metawards.mixers.merge_matrix_single_population"><code class="xref py py-func docutils literal notranslate"><span class="pre">merge_matrix_single_population()</span></code></a> or
<a class="reference internal" href="../../api/generated/metawards.mixers.merge_matrix_multi_population.html#metawards.mixers.merge_matrix_multi_population" title="metawards.mixers.merge_matrix_multi_population"><code class="xref py py-func docutils literal notranslate"><span class="pre">merge_matrix_multi_population()</span></code></a> may
be a better choice. <a class="reference internal" href="../part05/04_contacts.html"><span class="doc">See here for more information</span></a>.</p>
</div>
<p>Here we use <a class="reference internal" href="../../api/generated/metawards.mixers.InteractionMatrix.html#metawards.mixers.InteractionMatrix" title="metawards.mixers.InteractionMatrix"><code class="xref py py-class docutils literal notranslate"><span class="pre">metawards.mixers.InteractionMatrix</span></code></a> to simplify the
creation of the interation matrix. We first create a 2x2 matrix;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
  <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="p">]</span>
</pre></div>
</div>
<p>using <a class="reference internal" href="../../api/generated/metawards.mixers.InteractionMatrix.html#metawards.mixers.InteractionMatrix.ones" title="metawards.mixers.InteractionMatrix.ones"><code class="xref py py-meth docutils literal notranslate"><span class="pre">InteractionMatrix.ones(n=2)</span></code></a>.
We then resize this to be a 9x9 matrix using
<a class="reference internal" href="../../api/generated/metawards.mixers.InteractionMatrix.html#metawards.mixers.InteractionMatrix.resize" title="metawards.mixers.InteractionMatrix.resize"><code class="xref py py-meth docutils literal notranslate"><span class="pre">InteractionMatrix.resize(2</span> <span class="pre">+</span> <span class="pre">7,</span> <span class="pre">value=0.0)</span></code></a>,
where the new values are equal to
zero. You can double-check that this matrix is correct using, e.g.
ipython or a jupyter notebook;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">metawards.mixers</span> <span class="kn">import</span> <span class="n">InteractionMatrix</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">matrix</span> <span class="o">=</span> <span class="n">InteractionMatrix</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">matrix</span><span class="p">)</span>
<span class="go">| 1.000, 1.000 |</span>
<span class="go">| 1.000, 1.000 |</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">matrix</span><span class="o">.</span><span class="n">resize</span><span class="p">(</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">7</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="mf">0.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">matrix</span><span class="p">)</span>
<span class="go">| 1.000, 1.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000 |</span>
<span class="go">| 1.000, 1.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000 |</span>
<span class="go">| 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000 |</span>
<span class="go">| 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000 |</span>
<span class="go">| 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000 |</span>
<span class="go">| 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000 |</span>
<span class="go">| 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000 |</span>
<span class="go">| 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000 |</span>
<span class="go">| 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000 |</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You could have created this matrix manually, but that is error-prone.
The <a class="reference internal" href="../../api/generated/metawards.mixers.InteractionMatrix.html#metawards.mixers.InteractionMatrix" title="metawards.mixers.InteractionMatrix"><code class="xref py py-class docutils literal notranslate"><span class="pre">InteractionMatrix</span></code></a> class has lots
of helper functions that are useful for setting interactions between
different demographics.</p>
</div>
<p>With this mixer created, you can now run <code class="docutils literal notranslate"><span class="pre">metawards</span></code> using;</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>metawards -d lurgy4 -D demographics.json -a ExtraSeedsLondon.dat --mixer mix_isolate --mover move_isolate --extractor extract_none --nsteps <span class="m">365</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>We’ve limited the number of days to model to 365 (one year), as
self-isolation significantly slows down the spread of the disease,
and modelling more than a year is unhelpful. We’ve also here used
the <a class="reference internal" href="../../api/generated/metawards.extractors.extract_none.html#metawards.extractors.extract_none" title="metawards.extractors.extract_none"><code class="xref py py-func docutils literal notranslate"><span class="pre">extract_none()</span></code></a> extractor to limit
the amount of output. Outputting data can be a little slow when
there are a large number of demographics.</p>
</div>
<p>What do you see? In some cases self-isolation will cause the outbreak to
quickly die out. However, for most runs, we see that the infectious
asymptomatic allows new infections to be seeded before the individual
develops symptoms and moves into self-isolation.</p>
<p>Of more interest, we also see that as the outbreak grows, about 1% of
infected individuals have not recovered after 7 days. They leave
self-isolation and are able to contribute to the <em>force of infection</em>
in the <code class="docutils literal notranslate"><span class="pre">home</span></code> demographic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>...
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ Day 11 ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
S: 56082064  E: 0  I: 6  R: 7  IW: 2  POPULATION: 56082077
       home  S: 56082064  E: 0  I: 6  R: 2  IW: 2  POPULATION: 56082072
   released  S:        0  E: 0  I: 0  R: 0  IW: 0  POPULATION:        0
  isolate_0  S:        0  E: 0  I: 0  R: 1  IW: 0  POPULATION:        1
  isolate_1  S:        0  E: 0  I: 0  R: 1  IW: 0  POPULATION:        1
  isolate_2  S:        0  E: 0  I: 0  R: 0  IW: 0  POPULATION:        0
  isolate_3  S:        0  E: 0  I: 0  R: 1  IW: 0  POPULATION:        1
  isolate_4  S:        0  E: 0  I: 0  R: 0  IW: 0  POPULATION:        0
  isolate_5  S:        0  E: 0  I: 0  R: 2  IW: 0  POPULATION:        2
  isolate_6  S:        0  E: 0  I: 0  R: 0  IW: 0  POPULATION:        0
Number of infections: 6
...
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ Day 39 ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
S: 56081874  E: 19  I: 95  R: 89  IW: 13  POPULATION: 56082077
       home  S: 56081874  E: 19  I: 71  R: 13  IW: 13  POPULATION: 56081977
   released  S:        0  E:  0  I:  0  R: 48  IW:  0  POPULATION:       48
  isolate_0  S:        0  E:  0  I:  2  R:  5  IW:  0  POPULATION:        7
  isolate_1  S:        0  E:  0  I:  0  R:  8  IW:  0  POPULATION:        8
  isolate_2  S:        0  E:  0  I:  3  R:  4  IW:  0  POPULATION:        7
  isolate_3  S:        0  E:  0  I:  5  R:  2  IW:  0  POPULATION:        7
  isolate_4  S:        0  E:  0  I: 13  R:  0  IW:  0  POPULATION:       13
  isolate_5  S:        0  E:  0  I:  0  R:  3  IW:  0  POPULATION:        3
  isolate_6  S:        0  E:  0  I:  1  R:  6  IW:  0  POPULATION:        7
Number of infections: 114
...
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ Day 139 ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
S: 56064409  E: 566  I: 4253  R: 12849  IW: 524  POPULATION: 56082077
       home  S: 56064409  E: 566  I: 2938  R:   585  IW: 524  POPULATION: 56068498
   released  S:        0  E:   0  I:   28  R: 10553  IW:   0  POPULATION:    10581
  isolate_0  S:        0  E:   0  I:   23  R:   374  IW:   0  POPULATION:      397
  isolate_1  S:        0  E:   0  I:   42  R:   377  IW:   0  POPULATION:      419
  isolate_2  S:        0  E:   0  I:   85  R:   341  IW:   0  POPULATION:      426
  isolate_3  S:        0  E:   0  I:  121  R:   272  IW:   0  POPULATION:      393
  isolate_4  S:        0  E:   0  I:  218  R:   232  IW:   0  POPULATION:      450
  isolate_5  S:        0  E:   0  I:  364  R:   115  IW:   0  POPULATION:      479
  isolate_6  S:        0  E:   0  I:  434  R:     0  IW:   0  POPULATION:      434
Number of infections: 4819
...
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ Day 364 ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
S: 54653198  E: 14724  I: 126080  R: 1288075  IW: 6273  POPULATION: 56082077
       home  S: 54653198  E: 14724  I: 84809  R:   14613  IW: 6273  POPULATION: 54767344
   released  S:        0  E:     0  I:  1014  R: 1218000  IW:    0  POPULATION:  1219014
  isolate_0  S:        0  E:     0  I: 14010  R:       0  IW:    0  POPULATION:    14010
  isolate_1  S:        0  E:     0  I:   834  R:   12575  IW:    0  POPULATION:    13409
  isolate_2  S:        0  E:     0  I:  1490  R:   11998  IW:    0  POPULATION:    13488
  isolate_3  S:        0  E:     0  I:  2482  R:   11212  IW:    0  POPULATION:    13694
  isolate_4  S:        0  E:     0  I:  4150  R:    9327  IW:    0  POPULATION:    13477
  isolate_5  S:        0  E:     0  I:  6926  R:    6897  IW:    0  POPULATION:    13823
  isolate_6  S:        0  E:     0  I: 10365  R:    3453  IW:    0  POPULATION:    13818
Number of infections: 140804
</pre></div>
</div>
<p>As you can see above, by day 364, there were 1014 infected individuals in
the <code class="docutils literal notranslate"><span class="pre">released</span></code> demographic, indicating that they have left self-isolation
too early.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="03_scan_duration.html" class="btn btn-neutral float-right" title="How many days of self-isolation is needed?" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="01_movers.html" class="btn btn-neutral float-left" title="Movers and go functions" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
      <span class="lastupdated">
        Last updated on Feb 09, 2021.
      </span>

    </p>
  </div> 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>