

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Conditional Compliance &mdash; MetaWards Documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/custom.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Staying under quarantine" href="05_quarantine.html" />
    <link rel="prev" title="How many days of self-isolation is needed?" href="03_scan_duration.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html">
          

          
            
            <img src="../../_static/logo.jpg" class="logo" alt="Logo"/>
          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
  <div id="version_box"></div>
</div>


          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../features.html">Features</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../install.html">Installation instructions</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../model_data.html">Model data</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../quickstart/index.html">Quick Start Guide</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Tutorial</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../index_part01.html">Part 1 - Modelling outbreaks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index_part02.html">Part 2 - Refining the model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index_part03.html">Part 3 - Customising the outbreak</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index_part04.html">Part 4 - Customising the output</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index_part05.html">Part 5 - Modelling multiple demographics</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index_part06.html">Part 6 - Moving between demographics</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="01_movers.html">Movers and go functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="02_duration.html">Self-isolation duration</a></li>
<li class="toctree-l3"><a class="reference internal" href="03_scan_duration.html">How many days of self-isolation is needed?</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Conditional Compliance</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#moving-a-fraction-of-individuals">Moving a fraction of individuals</a></li>
<li class="toctree-l4"><a class="reference internal" href="#scanning-compliance">Scanning compliance</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="05_quarantine.html">Staying under quarantine</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../index_part07.html">Part 7 - Different pathways for different demographics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index_part08.html">Part 8 - Creating your own models / networks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index_part09.html">Part 9 - Advanced Moves and Scenarios</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../fileformats/index.html">Input files and formats</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../usage.html">Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cluster_usage.html">Running on a cluster</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../support.html">Help and support</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../devsupport.html">Developer Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../roadmap.html">Roadmap</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../packaging.html">Packaging releases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../development.html">Developer’s guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../snaglist.html">Snag list</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../api/index.html">Documentation</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../changelog.html">Changelog</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../acknowledgements.html">Acknowledgements</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">MetaWards</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../index.html">Tutorial</a> &raquo;</li>
        
          <li><a href="../index_part06.html">Part 6 - Moving between demographics</a> &raquo;</li>
        
      <li>Conditional Compliance</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
    
  </ul>

  
  <div class="rst-breadcrumbs-buttons" role="navigation" aria-label="breadcrumb navigation">
      
        <a href="05_quarantine.html" class="btn btn-neutral float-right" title="Staying under quarantine" accesskey="n">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
      
      
        <a href="03_scan_duration.html" class="btn btn-neutral float-left" title="How many days of self-isolation is needed?" accesskey="p"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
      
  </div>
  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="conditional-compliance">
<h1>Conditional Compliance<a class="headerlink" href="#conditional-compliance" title="Permalink to this headline">¶</a></h1>
<p>In the last section we saw that self-isolation will only work if
individuals self-isolate at an early stage of the lurgy, and for 5-7 days.</p>
<p>However, that model and conclusion is flawed. The model assumed that
everyone who had reached the self-isolation stage would elect to
self-isolate, and would remain their for the full required duration.</p>
<p>Unfortunately, this is not realistic. Many individuals would not
self-isolate, e.g. because they don’t feel that ill, don’t recognise
the symptoms, have financial or social pressures to keep going out
etc. Equally, many may break quarantine early, if they feel better or
more mobile.</p>
<p>To model this, we need to conditionally send only a percentage of
individuals into self-isolation. And then, for each day quarantine,
we need to release an increasing percentage back to their normal
behaviour.</p>
<div class="section" id="moving-a-fraction-of-individuals">
<h2>Moving a fraction of individuals<a class="headerlink" href="#moving-a-fraction-of-individuals" title="Permalink to this headline">¶</a></h2>
<p>Both the <a class="reference internal" href="../../api/generated/metawards.movers.go_isolate.html#metawards.movers.go_isolate" title="metawards.movers.go_isolate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">go_isolate()</span></code></a> and
<a class="reference internal" href="../../api/generated/metawards.movers.go_to.html#metawards.movers.go_to" title="metawards.movers.go_to"><code class="xref py py-meth docutils literal notranslate"><span class="pre">go_to()</span></code></a> go functions accept the <code class="docutils literal notranslate"><span class="pre">fraction</span></code>
keyword argument. This argument sets the percentage (or fraction)
of the population who should move. By default this is <code class="docutils literal notranslate"><span class="pre">1.0</span></code> (representing
100%). This fraction is used to sample a random number of individuals
according to a binomial distribution.</p>
<p>We can adjust this value to examine impact of reduced self-isolation
compliance on the outbreak.</p>
<p>To do this, update your <code class="docutils literal notranslate"><span class="pre">move_isolate.py</span></code> move function to;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">metawards</span> <span class="kn">import</span> <span class="n">Population</span>
<span class="kn">from</span> <span class="nn">metawards</span> <span class="kn">import</span> <span class="n">Networks</span>
<span class="kn">from</span> <span class="nn">metawards.movers</span> <span class="kn">import</span> <span class="n">go_isolate</span><span class="p">,</span> <span class="n">go_to</span>

<span class="k">def</span> <span class="nf">move_isolate</span><span class="p">(</span><span class="n">network</span><span class="p">:</span> <span class="n">Networks</span><span class="p">,</span> <span class="n">population</span><span class="p">:</span> <span class="n">Population</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="n">ndays</span> <span class="o">=</span> <span class="mi">7</span>
    <span class="n">isolate_stage</span> <span class="o">=</span> <span class="mi">3</span>
    <span class="n">compliance_fraction</span> <span class="o">=</span> <span class="mf">0.5</span>

    <span class="n">day</span> <span class="o">=</span> <span class="n">population</span><span class="o">.</span><span class="n">day</span> <span class="o">%</span> <span class="n">ndays</span>
    <span class="n">isolate</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;isolate_</span><span class="si">{</span><span class="n">day</span><span class="si">}</span><span class="s2">&quot;</span>

    <span class="n">go_isolate_day</span> <span class="o">=</span> <span class="k">lambda</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">go_isolate</span><span class="p">(</span>
                                        <span class="n">go_from</span><span class="o">=</span><span class="s2">&quot;home&quot;</span><span class="p">,</span>
                                        <span class="n">go_to</span><span class="o">=</span><span class="n">isolate</span><span class="p">,</span>
                                        <span class="n">self_isolate_stage</span><span class="o">=</span><span class="n">isolate_stage</span><span class="p">,</span>
                                        <span class="n">fraction</span><span class="o">=</span><span class="n">compliance_fraction</span><span class="p">,</span>
                                        <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="n">go_released</span> <span class="o">=</span> <span class="k">lambda</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">go_to</span><span class="p">(</span><span class="n">go_from</span><span class="o">=</span><span class="n">isolate</span><span class="p">,</span>
                                        <span class="n">go_to</span><span class="o">=</span><span class="s2">&quot;released&quot;</span><span class="p">,</span>
                                        <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">return</span> <span class="p">[</span><span class="n">go_released</span><span class="p">,</span> <span class="n">go_isolate_day</span><span class="p">]</span>
</pre></div>
</div>
<p>Here we have added <code class="docutils literal notranslate"><span class="pre">compliance_fraction</span></code>, set to <code class="docutils literal notranslate"><span class="pre">0.5</span></code> to represent,
on average, to 50% of individuals complying with the need to go into
self-isolation. This fraction is passed as <code class="docutils literal notranslate"><span class="pre">fraction</span></code> to the
<code class="docutils literal notranslate"><span class="pre">go_isolate</span></code> function.</p>
<p>Run <code class="docutils literal notranslate"><span class="pre">metawards</span></code> using;</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>metawards -d lurgy4 -D demographics.json -a ExtraSeedsLondon.dat --mixer mix_isolate --mover move_isolate --nsteps <span class="m">365</span>
</pre></div>
</div>
<p>You should see that infection spreads quickly, as the 50% of individuals who
each day decide not to self-isolate from stage 2 of the lurgy infect the
susceptible population. The outbreak should end with approximately
two thirds of those infected recovering in <code class="docutils literal notranslate"><span class="pre">released</span></code> (and so had
isolated), and one third recovering in <code class="docutils literal notranslate"><span class="pre">home</span></code> (having never isolated).
A plot of the the demographics shows this more clearly;</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>metawards-plot -i output/trajectory.csv.bz2
</pre></div>
</div>
<img alt="Demographics for 50% self-isolation compliance" src="../../_images/tutorial_6_4_1.jpg" />
</div>
<div class="section" id="scanning-compliance">
<h2>Scanning compliance<a class="headerlink" href="#scanning-compliance" title="Permalink to this headline">¶</a></h2>
<p>We can investigate the effect of different levels of compliance by
scanning through <code class="docutils literal notranslate"><span class="pre">compliance_fraction</span></code>. Update your <code class="docutils literal notranslate"><span class="pre">move_isolate.py</span></code>
to read;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">metawards</span> <span class="kn">import</span> <span class="n">Population</span>
<span class="kn">from</span> <span class="nn">metawards</span> <span class="kn">import</span> <span class="n">Networks</span>
<span class="kn">from</span> <span class="nn">metawards.movers</span> <span class="kn">import</span> <span class="n">go_isolate</span><span class="p">,</span> <span class="n">go_to</span>

<span class="k">def</span> <span class="nf">move_isolate</span><span class="p">(</span><span class="n">network</span><span class="p">:</span> <span class="n">Networks</span><span class="p">,</span> <span class="n">population</span><span class="p">:</span> <span class="n">Population</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="n">user_params</span> <span class="o">=</span> <span class="n">network</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">user_params</span>

    <span class="n">ndays</span> <span class="o">=</span> <span class="mi">7</span>
    <span class="n">isolate_stage</span> <span class="o">=</span> <span class="mi">3</span>
    <span class="n">compliance_fraction</span> <span class="o">=</span> <span class="n">user_params</span><span class="p">[</span><span class="s2">&quot;compliance&quot;</span><span class="p">]</span>

    <span class="n">day</span> <span class="o">=</span> <span class="n">population</span><span class="o">.</span><span class="n">day</span> <span class="o">%</span> <span class="mi">7</span>
    <span class="n">isolate</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;isolate_</span><span class="si">{</span><span class="n">day</span><span class="si">}</span><span class="s2">&quot;</span>

    <span class="n">go_isolate_day</span> <span class="o">=</span> <span class="k">lambda</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">go_isolate</span><span class="p">(</span>
                                        <span class="n">go_from</span><span class="o">=</span><span class="s2">&quot;home&quot;</span><span class="p">,</span>
                                        <span class="n">go_to</span><span class="o">=</span><span class="n">isolate</span><span class="p">,</span>
                                        <span class="n">self_isolate_stage</span><span class="o">=</span><span class="n">isolate_stage</span><span class="p">,</span>
                                        <span class="n">fraction</span><span class="o">=</span><span class="n">compliance_fraction</span><span class="p">,</span>
                                        <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="n">go_released</span> <span class="o">=</span> <span class="k">lambda</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">go_to</span><span class="p">(</span><span class="n">go_from</span><span class="o">=</span><span class="n">isolate</span><span class="p">,</span>
                                        <span class="n">go_to</span><span class="o">=</span><span class="s2">&quot;released&quot;</span><span class="p">,</span>
                                        <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">return</span> <span class="p">[</span><span class="n">go_released</span><span class="p">,</span> <span class="n">go_isolate_day</span><span class="p">]</span>
</pre></div>
</div>
<p>The only change here is that we now set <code class="docutils literal notranslate"><span class="pre">compliance_fraction</span></code> from the
<code class="docutils literal notranslate"><span class="pre">compliance</span></code> user defined parameter.</p>
<p>Now create a scan file called <code class="docutils literal notranslate"><span class="pre">scan_compliance.dat</span></code> that contains;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">.</span><span class="n">compliance</span>
    <span class="mf">1.00</span>
    <span class="mf">0.95</span>
    <span class="mf">0.90</span>
    <span class="mf">0.85</span>
    <span class="mf">0.80</span>
    <span class="mf">0.75</span>
    <span class="mf">0.70</span>
    <span class="mf">0.65</span>
    <span class="mf">0.60</span>
    <span class="mf">0.55</span>
    <span class="mf">0.50</span>
</pre></div>
</div>
<p>This scans <code class="docutils literal notranslate"><span class="pre">compliance</span></code> from <code class="docutils literal notranslate"><span class="pre">1.00</span></code> to <code class="docutils literal notranslate"><span class="pre">0.50</span></code> in increments of <code class="docutils literal notranslate"><span class="pre">0.05</span></code>.</p>
<p>This is the command to run a single scan locally;</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>metawards -d lurgy4 -D demographics.json -a ExtraSeedsLondon.dat --mixer mix_isolate --mover move_isolate --extractor extract_none --nsteps <span class="m">365</span> -i scan_compliance.dat
</pre></div>
</div>
<p>You will likely need a cluster to perform repeats, so here is a suitable
PBS and slurm job file;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>#!/bin/bash
#PBS -l walltime=12:00:00
#PBS -l select=4:ncpus=64:mem=64GB
# The above sets 4 nodes with 64 cores each

source $HOME/envs/metawards/bin/activate

# change into the directory from which this job was submitted
cd $PBS_O_WORKDIR

metawards -d lurgy4 -D demographics.json -a ExtraSeedsLondon.dat \
        --mixer mix_isolate --mover move_isolate --extractor extract_none \
        --nsteps 365 -i scan_compliance.dat --repeats 8 \
        --nthreads 16 --force-overwrite-output --no-spinner --theme simple
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>#!/bin/bash
#SBATCH --time=01:00:00
#SBATCH --ntasks=4
#SBATCH --cpus-per-task=64
# The above sets 4 nodes with 64 cores each

source $HOME/envs/metawards/bin/activate

metawards -d lurgy4 -D demographics.json -a ExtraSeedsLondon.dat \
        --mixer mix_isolate --mover move_isolate --extractor extract_none \
        --nsteps 365 -i scan_compliance.dat --repeats 8 \
        --nthreads 16 --force-overwrite-output --no-spinner --theme simple
</pre></div>
</div>
<p>You can generate an overview animation using;</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>metawards-plot -i output/results.csv.bz2
metawards-plot --animate output/overview*
</pre></div>
</div>
<p>The resulting animation should look like this;</p>
<img alt="Animation showing effect on the outbreak of different levels of compliance with self-isolation" src="../../_images/tutorial_6_4_2.gif" />
<p>From this it is clear the high compliance with self-isolation is needed
to prevent a large-scale outbreak. You can see exactly the effect
by plotting the average number of recovereds as a function of the level
of compliance at the end of the year (365 days). This can be done
in Python pandas, R or Excel. For example, here is how you would make
this plot in pandas;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">matplotlib</span> <span class="k">as</span> <span class="nn">mpl</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;output/results.csv.bz2&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">day_365</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;day&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">365</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">day_365_mean</span> <span class="o">=</span> <span class="n">day_365</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;fingerprint&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ax</span> <span class="o">=</span> <span class="n">day_365_mean</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">line</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s2">&quot;.compliance&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;R&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ax</span><span class="o">.</span><span class="n">yaxis</span><span class="o">.</span><span class="n">set_major_formatter</span><span class="p">(</span><span class="n">mpl</span><span class="o">.</span><span class="n">ticker</span><span class="o">.</span><span class="n">StrMethodFormatter</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{x:,.0f}</span><span class="s1">&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fig</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">get_figure</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fig</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fig</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s2">&quot;compliance.jpg&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>The figure I get is shown here;</p>
<img alt="Effect of compliance on the number of infections (recovereds)" src="../../_images/tutorial_6_4_3.jpg" />
<p>For the lurgy, compliance of 90% still leads to ~6 million infections over
the year, while compliance of 80% leads to ~20 million. If compliance drops
to 50%, then ~39 million individuals are infected.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="05_quarantine.html" class="btn btn-neutral float-right" title="Staying under quarantine" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="03_scan_duration.html" class="btn btn-neutral float-left" title="How many days of self-isolation is needed?" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
      <span class="lastupdated">
        Last updated on Feb 09, 2021.
      </span>

    </p>
  </div> 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>