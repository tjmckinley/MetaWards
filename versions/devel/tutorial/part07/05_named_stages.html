

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Named Disease Stages &mdash; MetaWards Documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/custom.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Modelling a Hospital" href="06_hospital.html" />
    <link rel="prev" title="Modelling the ICU" href="04_icu.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html">
          

          
            
            <img src="../../_static/logo.jpg" class="logo" alt="Logo"/>
          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
  <div id="version_box"></div>
</div>


          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../features.html">Features</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../install.html">Installation instructions</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../model_data.html">Model data</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../quickstart/index.html">Quick Start Guide</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Tutorial</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../index_part01.html">Part 1 - Modelling outbreaks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index_part02.html">Part 2 - Refining the model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index_part03.html">Part 3 - Customising the outbreak</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index_part04.html">Part 4 - Customising the output</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index_part05.html">Part 5 - Modelling multiple demographics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index_part06.html">Part 6 - Moving between demographics</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index_part07.html">Part 7 - Different pathways for different demographics</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="01_pathways.html">Disease pathways and stages</a></li>
<li class="toctree-l3"><a class="reference internal" href="02_scanning.html">Scanning demographics</a></li>
<li class="toctree-l3"><a class="reference internal" href="03_conditional.html">Conditional Pathways</a></li>
<li class="toctree-l3"><a class="reference internal" href="04_icu.html">Modelling the ICU</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Named Disease Stages</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#simple-example">Simple example</a></li>
<li class="toctree-l4"><a class="reference internal" href="#sub-stages-example">Sub-stages example</a></li>
<li class="toctree-l4"><a class="reference internal" href="#scanning-named-stage-parameters">Scanning named stage parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="#mapping-stages-to-summaries">Mapping stages to summaries</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="06_hospital.html">Modelling a Hospital</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../index_part08.html">Part 8 - Creating your own models / networks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index_part09.html">Part 9 - Advanced Moves and Scenarios</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../fileformats/index.html">Input files and formats</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../usage.html">Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cluster_usage.html">Running on a cluster</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../support.html">Help and support</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../devsupport.html">Developer Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../roadmap.html">Roadmap</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../packaging.html">Packaging releases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../development.html">Developer’s guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../snaglist.html">Snag list</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../api/index.html">Documentation</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../changelog.html">Changelog</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../acknowledgements.html">Acknowledgements</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">MetaWards</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../index.html">Tutorial</a> &raquo;</li>
        
          <li><a href="../index_part07.html">Part 7 - Different pathways for different demographics</a> &raquo;</li>
        
      <li>Named Disease Stages</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
    
  </ul>

  
  <div class="rst-breadcrumbs-buttons" role="navigation" aria-label="breadcrumb navigation">
      
        <a href="06_hospital.html" class="btn btn-neutral float-right" title="Modelling a Hospital" accesskey="n">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
      
      
        <a href="04_icu.html" class="btn btn-neutral float-left" title="Modelling the ICU" accesskey="p"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
      
  </div>
  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="named-disease-stages">
<h1>Named Disease Stages<a class="headerlink" href="#named-disease-stages" title="Permalink to this headline">¶</a></h1>
<p>In the last section you learned how to use demographics with different
disease stages to model hospital and ICU admissions. While this worked,
the calculation of statistics from the simulation was slightly hacky,
as the disease stages were still labelled <code class="docutils literal notranslate"><span class="pre">E</span></code>, <code class="docutils literal notranslate"><span class="pre">I</span></code> and <code class="docutils literal notranslate"><span class="pre">R</span></code>, when
we really wanted to refer to them as <code class="docutils literal notranslate"><span class="pre">H1</span></code>, <code class="docutils literal notranslate"><span class="pre">H2</span></code> etc.</p>
<p>Fortunately, <code class="docutils literal notranslate"><span class="pre">metawards</span></code> supports custom naming of disease stages.
You can do this by adding a <code class="docutils literal notranslate"><span class="pre">stage</span></code> field to the disease file.</p>
<div class="section" id="simple-example">
<h2>Simple example<a class="headerlink" href="#simple-example" title="Permalink to this headline">¶</a></h2>
<p>For example, here is a simple disease file that uses stages <code class="docutils literal notranslate"><span class="pre">A</span></code>,
<code class="docutils literal notranslate"><span class="pre">B</span></code> and <code class="docutils literal notranslate"><span class="pre">C</span></code>. Please create the file <code class="docutils literal notranslate"><span class="pre">named.json</span></code> and copy in the
below;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;stage&quot;</span>            <span class="p">:</span> <span class="p">[</span> <span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;B&quot;</span><span class="p">,</span> <span class="s2">&quot;C&quot;</span> <span class="p">],</span>
    <span class="s2">&quot;beta&quot;</span>             <span class="p">:</span> <span class="p">[</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.0</span> <span class="p">],</span>
    <span class="s2">&quot;progress&quot;</span>         <span class="p">:</span> <span class="p">[</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span> <span class="p">],</span>
    <span class="s2">&quot;too_ill_to_move&quot;</span>  <span class="p">:</span> <span class="p">[</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span> <span class="p">],</span>
    <span class="s2">&quot;contrib_foi&quot;</span>      <span class="p">:</span> <span class="p">[</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span> <span class="p">],</span>
    <span class="s2">&quot;start_symptom&quot;</span>    <span class="p">:</span> <span class="mi">1</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Note that we’ve not included the <code class="docutils literal notranslate"><span class="pre">name</span></code>, <code class="docutils literal notranslate"><span class="pre">author</span></code> or other metadata
fields as these are not needed for this simple example. These are optional
fields. We recommend you include them when you want to publish a disease
file.</p>
</div>
<p>This file defines three disease stages, called <code class="docutils literal notranslate"><span class="pre">A</span></code>, <code class="docutils literal notranslate"><span class="pre">B</span></code> and <code class="docutils literal notranslate"><span class="pre">C</span></code>.
The first stage (<code class="docutils literal notranslate"><span class="pre">A</span></code>) is not infectious, as <code class="docutils literal notranslate"><span class="pre">beta[&quot;A&quot;]</span></code> is <code class="docutils literal notranslate"><span class="pre">0.0</span></code>.
The infectious stage is <code class="docutils literal notranslate"><span class="pre">B</span></code>, as <code class="docutils literal notranslate"><span class="pre">beta[&quot;B&quot;]</span></code> is <code class="docutils literal notranslate"><span class="pre">0.5</span></code>. The final
stage is <code class="docutils literal notranslate"><span class="pre">C</span></code>, which is not infectious, and is where the disease ends
(<code class="docutils literal notranslate"><span class="pre">progress[&quot;C&quot;]</span></code> is <code class="docutils literal notranslate"><span class="pre">0.0</span></code>).</p>
<p>Run <code class="docutils literal notranslate"><span class="pre">metawards</span></code> using this disease file via;</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>metawards -a ExtraSeedsLondon.dat -d named.json --nsteps <span class="m">20</span>
</pre></div>
</div>
<p>You should see output similar to;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ Day 0 ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
Loading additional seeds from /Users/chris/GitHub/MetaWardsData/extra_seeds/ExtraSeedsLondon.dat
(1, 255, 5, None)
S: 56082077  A: 0  B: 0  C: 0  IW: 0  POPULATION: 56082077

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ Day 1 ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
seeding play_infections[0][255] += 5
S: 56082072  A: 0  B: 5  C: 0  IW: 0  POPULATION: 56082077
Number of infections: 5

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ Day 2 ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
S: 56082067  A: 5  B: 0  C: 5  IW: 2  POPULATION: 56082077
Number of infections: 10

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ Day 3 ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
S: 56082067  A: 0  B: 5  C: 5  IW: 0  POPULATION: 56082077
Number of infections: 10

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ Day 4 ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
S: 56082063  A: 4  B: 0  C: 10  IW: 3  POPULATION: 56082077
Number of infections: 14

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ Day 5 ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
S: 56082063  A: 0  B: 4  C: 10  IW: 0  POPULATION: 56082077
Number of infections: 14

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ Day 6 ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
S: 56082062  A: 1  B: 0  C: 14  IW: 1  POPULATION: 56082077
Number of infections: 15

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ Day 7 ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
S: 56082062  A: 0  B: 1  C: 14  IW: 0  POPULATION: 56082077
Number of infections: 15

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ Day 8 ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
S: 56082062  A: 0  B: 0  C: 15  IW: 0  POPULATION: 56082077
Number of infections: 15

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ Day 9 ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
S: 56082062  A: 0  B: 0  C: 15  IW: 0  POPULATION: 56082077
Number of infections: 15

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ Day 10 ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
S: 56082062  A: 0  B: 0  C: 15  IW: 0  POPULATION: 56082077
Number of infections: 15
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Note that the simulation gets stuck in the <code class="docutils literal notranslate"><span class="pre">C</span></code> state. This is because
any individual who is not in <code class="docutils literal notranslate"><span class="pre">S</span></code> or <code class="docutils literal notranslate"><span class="pre">R</span></code> is counted as an infection,
and so the 15 individuals in <code class="docutils literal notranslate"><span class="pre">C</span></code> are counted as infecteds. To prevent
the model running forever we set the maximum number of days to
20 via <code class="docutils literal notranslate"><span class="pre">--nsteps</span> <span class="pre">20</span></code>.</p>
</div>
<p>As you can see, the output now records movement from <code class="docutils literal notranslate"><span class="pre">S</span></code> to <code class="docutils literal notranslate"><span class="pre">A</span></code>, <code class="docutils literal notranslate"><span class="pre">B</span></code>
and then <code class="docutils literal notranslate"><span class="pre">C</span></code>. This data is also recorded in the output files, e.g.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;&gt;</span> <span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="o">&gt;&gt;</span> <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;output/results.csv.bz2&quot;</span><span class="p">)</span>
<span class="o">&gt;&gt;</span> <span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
   <span class="n">fingerprint</span>  <span class="n">repeat</span>  <span class="n">day</span>        <span class="n">date</span>         <span class="n">S</span>  <span class="n">E</span>  <span class="n">I</span>  <span class="n">A</span>  <span class="n">B</span>   <span class="n">C</span>  <span class="n">R</span>  <span class="n">IW</span>   <span class="n">UV</span>
 <span class="mi">0</span>      <span class="n">REPEAT</span>       <span class="mi">1</span>    <span class="mi">0</span>  <span class="mi">2020</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">23</span>  <span class="mi">56082077</span>  <span class="mi">0</span>  <span class="mi">0</span>  <span class="mi">0</span>  <span class="mi">0</span>   <span class="mi">0</span>  <span class="mi">0</span>   <span class="mi">0</span>  <span class="mf">1.0</span>
 <span class="mi">1</span>      <span class="n">REPEAT</span>       <span class="mi">1</span>    <span class="mi">1</span>  <span class="mi">2020</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">24</span>  <span class="mi">56082072</span>  <span class="mi">0</span>  <span class="mi">0</span>  <span class="mi">0</span>  <span class="mi">5</span>   <span class="mi">0</span>  <span class="mi">0</span>   <span class="mi">0</span>  <span class="mf">1.0</span>
 <span class="mi">2</span>      <span class="n">REPEAT</span>       <span class="mi">1</span>    <span class="mi">2</span>  <span class="mi">2020</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">25</span>  <span class="mi">56082067</span>  <span class="mi">0</span>  <span class="mi">0</span>  <span class="mi">5</span>  <span class="mi">0</span>   <span class="mi">5</span>  <span class="mi">0</span>   <span class="mi">2</span>  <span class="mf">1.0</span>
 <span class="mi">3</span>      <span class="n">REPEAT</span>       <span class="mi">1</span>    <span class="mi">3</span>  <span class="mi">2020</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">26</span>  <span class="mi">56082067</span>  <span class="mi">0</span>  <span class="mi">0</span>  <span class="mi">0</span>  <span class="mi">5</span>   <span class="mi">5</span>  <span class="mi">0</span>   <span class="mi">0</span>  <span class="mf">1.0</span>
 <span class="mi">4</span>      <span class="n">REPEAT</span>       <span class="mi">1</span>    <span class="mi">4</span>  <span class="mi">2020</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">27</span>  <span class="mi">56082063</span>  <span class="mi">0</span>  <span class="mi">0</span>  <span class="mi">4</span>  <span class="mi">0</span>  <span class="mi">10</span>  <span class="mi">0</span>   <span class="mi">3</span>  <span class="mf">1.0</span>
<span class="o">&gt;&gt;</span> <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;output/trajectory.csv.bz2&quot;</span><span class="p">)</span>
<span class="o">&gt;&gt;</span> <span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
    <span class="n">day</span>        <span class="n">date</span> <span class="n">demographic</span>         <span class="n">S</span>  <span class="n">E</span>  <span class="n">I</span>  <span class="n">A</span>  <span class="n">B</span>   <span class="n">C</span>  <span class="n">R</span>  <span class="n">IW</span>
 <span class="mi">0</span>    <span class="mi">0</span>  <span class="mi">2020</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">23</span>     <span class="n">overall</span>  <span class="mi">56082077</span>  <span class="mi">0</span>  <span class="mi">0</span>  <span class="mi">0</span>  <span class="mi">0</span>   <span class="mi">0</span>  <span class="mi">0</span>   <span class="mi">0</span>
 <span class="mi">1</span>    <span class="mi">1</span>  <span class="mi">2020</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">24</span>     <span class="n">overall</span>  <span class="mi">56082072</span>  <span class="mi">0</span>  <span class="mi">0</span>  <span class="mi">0</span>  <span class="mi">5</span>   <span class="mi">0</span>  <span class="mi">0</span>   <span class="mi">0</span>
 <span class="mi">2</span>    <span class="mi">2</span>  <span class="mi">2020</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">25</span>     <span class="n">overall</span>  <span class="mi">56082067</span>  <span class="mi">0</span>  <span class="mi">0</span>  <span class="mi">5</span>  <span class="mi">0</span>   <span class="mi">5</span>  <span class="mi">0</span>   <span class="mi">2</span>
 <span class="mi">3</span>    <span class="mi">3</span>  <span class="mi">2020</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">26</span>     <span class="n">overall</span>  <span class="mi">56082067</span>  <span class="mi">0</span>  <span class="mi">0</span>  <span class="mi">0</span>  <span class="mi">5</span>   <span class="mi">5</span>  <span class="mi">0</span>   <span class="mi">0</span>
 <span class="mi">4</span>    <span class="mi">4</span>  <span class="mi">2020</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">27</span>     <span class="n">overall</span>  <span class="mi">56082063</span>  <span class="mi">0</span>  <span class="mi">0</span>  <span class="mi">4</span>  <span class="mi">0</span>  <span class="mi">10</span>  <span class="mi">0</span>   <span class="mi">3</span>
</pre></div>
</div>
<p>Additional columns have been added to the tables in these files for the
<code class="docutils literal notranslate"><span class="pre">A</span></code>, <code class="docutils literal notranslate"><span class="pre">B</span></code> and <code class="docutils literal notranslate"><span class="pre">C</span></code> states.</p>
</div>
<div class="section" id="sub-stages-example">
<h2>Sub-stages example<a class="headerlink" href="#sub-stages-example" title="Permalink to this headline">¶</a></h2>
<p>You can have multiple named sub-stages of each stage, e.g. instead of
having a single infectious <code class="docutils literal notranslate"><span class="pre">B</span></code> stage, you can have <code class="docutils literal notranslate"><span class="pre">B1</span></code>, <code class="docutils literal notranslate"><span class="pre">B2</span></code> and
<code class="docutils literal notranslate"><span class="pre">B3</span></code>. The totals reported for a the <code class="docutils literal notranslate"><span class="pre">B</span></code> stage will be the sum of
the number of individuals in each sub-stage. For example, edit
<code class="docutils literal notranslate"><span class="pre">named.json</span></code> to read;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;stage&quot;</span>            <span class="p">:</span> <span class="p">[</span> <span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;B1&quot;</span><span class="p">,</span> <span class="s2">&quot;B2&quot;</span><span class="p">,</span> <span class="s2">&quot;B3&quot;</span><span class="p">,</span> <span class="s2">&quot;C&quot;</span> <span class="p">],</span>
    <span class="s2">&quot;beta&quot;</span>             <span class="p">:</span> <span class="p">[</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span>  <span class="mf">0.8</span><span class="p">,</span>  <span class="mf">0.1</span><span class="p">,</span>  <span class="mf">0.0</span> <span class="p">],</span>
    <span class="s2">&quot;progress&quot;</span>         <span class="p">:</span> <span class="p">[</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span>  <span class="mf">1.0</span><span class="p">,</span>  <span class="mf">1.0</span><span class="p">,</span>  <span class="mf">0.0</span> <span class="p">],</span>
    <span class="s2">&quot;too_ill_to_move&quot;</span>  <span class="p">:</span> <span class="p">[</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span>  <span class="mf">0.2</span><span class="p">,</span>  <span class="mf">0.8</span><span class="p">,</span>  <span class="mf">0.0</span> <span class="p">],</span>
    <span class="s2">&quot;contrib_foi&quot;</span>      <span class="p">:</span> <span class="p">[</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span>  <span class="mf">1.0</span><span class="p">,</span>  <span class="mf">1.0</span><span class="p">,</span>  <span class="mf">0.0</span> <span class="p">],</span>
    <span class="s2">&quot;start_symptom&quot;</span>    <span class="p">:</span> <span class="mi">1</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Here we’ve expanded the <code class="docutils literal notranslate"><span class="pre">B</span></code> stage into three infectious sub-stages
(<code class="docutils literal notranslate"><span class="pre">B1</span></code>, <code class="docutils literal notranslate"><span class="pre">B2</span></code> and <code class="docutils literal notranslate"><span class="pre">B3</span></code>), similar to the three stages of the lurgy.</p>
<p>Run <code class="docutils literal notranslate"><span class="pre">metawards</span></code> using this disease file via;</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>metawards -a ExtraSeedsLondon.dat -d named.json --nsteps <span class="m">20</span>
</pre></div>
</div>
<p>You should see in the output that the population of <code class="docutils literal notranslate"><span class="pre">A</span></code>, <code class="docutils literal notranslate"><span class="pre">B</span></code> and <code class="docutils literal notranslate"><span class="pre">C</span></code>
are summarised, e.g.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ Day 0 ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
Loading additional seeds from /Users/chris/GitHub/MetaWardsData/extra_seeds/ExtraSeedsLondon.dat
(1, 255, 5, None)
S: 56082077  A: 0  B: 0  C: 0  IW: 0  POPULATION: 56082077

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ Day 1 ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
seeding play_infections[0][255] += 5
S: 56082072  A: 0  B: 5  C: 0  IW: 0  POPULATION: 56082077
Number of infections: 5

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ Day 2 ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
S: 56082071  A: 1  B: 5  C: 0  IW: 1  POPULATION: 56082077
Number of infections: 6

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ Day 3 ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
S: 56082067  A: 4  B: 6  C: 0  IW: 4  POPULATION: 56082077
Number of infections: 10

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ Day 4 ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
S: 56082066  A: 1  B: 5  C: 5  IW: 1  POPULATION: 56082077
Number of infections: 11

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ Day 5 ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
S: 56082064  A: 2  B: 6  C: 5  IW: 2  POPULATION: 56082077
Number of infections: 13

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ Day 6 ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
S: 56082060  A: 4  B: 7  C: 6  IW: 4  POPULATION: 56082077
Number of infections: 17

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ Day 7 ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
S: 56082058  A: 2  B: 7  C: 10  IW: 2  POPULATION: 56082077
Number of infections: 19

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ Day 8 ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
S: 56082053  A: 5  B: 8  C: 11  IW: 4  POPULATION: 56082077
Number of infections: 24

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ Day 9 ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
S: 56082053  A: 0  B: 11  C: 13  IW: 0  POPULATION: 56082077
Number of infections: 24

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ Day 10 ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
S: 56082049  A: 4  B: 7  C: 17  IW: 4  POPULATION: 56082077
Number of infections: 28
</pre></div>
</div>
<p>These are also summarised in the <code class="docutils literal notranslate"><span class="pre">output/results.csv.bz2</span></code> and
<code class="docutils literal notranslate"><span class="pre">output/trajectory.csv.bz2</span></code> files.</p>
<p>However, the actual populations in each individual stage are given in the
<code class="docutils literal notranslate"><span class="pre">play_infections.csv.bz2</span></code> (play infections), <code class="docutils literal notranslate"><span class="pre">work_infections.csv.bz2</span></code>
(work infections) and <code class="docutils literal notranslate"><span class="pre">number_infected_wards.csv.bz2</span></code> (number of infected
wards) files, e.g.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;output/total_infections.csv.bz2&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
<span class="go">    day  A  B1  B2  B3  C</span>
<span class="go"> 0    1  0   5   0   0  0</span>
<span class="go"> 1    2  1   0   5   0  0</span>
<span class="go"> 2    3  4   1   0   5  0</span>
<span class="go"> 3    4  1   4   1   0  5</span>
<span class="go"> 4    5  2   1   4   1  5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;output/number_infected_wards.csv.bz2&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
<span class="go">    day  A  B1  B2  B3  C</span>
<span class="go"> 0    1  0   1   0   0  0</span>
<span class="go"> 1    2  1   0   1   0  0</span>
<span class="go"> 2    3  4   1   0   1  0</span>
<span class="go"> 3    4  1   4   1   0  1</span>
<span class="go"> 4    5  2   1   4   1  1</span>
</pre></div>
</div>
<p>These files are very useful if you want to see, e.g. how many workers
are infected at each different stage on each day, or how many wards
have a population infected in the <code class="docutils literal notranslate"><span class="pre">B1</span></code> state on each day.</p>
</div>
<div class="section" id="scanning-named-stage-parameters">
<h2>Scanning named stage parameters<a class="headerlink" href="#scanning-named-stage-parameters" title="Permalink to this headline">¶</a></h2>
<p>You can also use the name of a stage when scanning disease parameters.
For example, create a file called <code class="docutils literal notranslate"><span class="pre">scan.dat</span></code> and copy in the below;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">beta</span><span class="p">[</span><span class="s2">&quot;B1&quot;</span><span class="p">]</span>  <span class="n">beta</span><span class="p">[</span><span class="s2">&quot;B2&quot;</span><span class="p">]</span>
  <span class="mf">0.2</span>         <span class="mf">0.7</span>
  <span class="mf">0.3</span>         <span class="mf">0.8</span>
</pre></div>
</div>
<p>Hopefully you can see that this will adjust the <code class="docutils literal notranslate"><span class="pre">beta</span></code> parameters for
the <code class="docutils literal notranslate"><span class="pre">B1</span></code> and <code class="docutils literal notranslate"><span class="pre">B2</span></code> stages. You can run this file using;</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>metawards -a ExtraSeedsLondon.dat -d named.json --nsteps <span class="m">20</span> -i scan.dat
</pre></div>
</div>
<p>and should see that the specified variables are indeed scanned, e.g.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ Adjustable parameters to scan ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

• (beta[&quot;B1&quot;]=0.2, beta[&quot;B2&quot;]=0.7)[repeat 1]
• (beta[&quot;B1&quot;]=0.3, beta[&quot;B2&quot;]=0.8)[repeat 1]

[...]

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ MULTIPROCESSING ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
Computing model run ✔
┌────────────────────────────────────────────────────────────────────────────────────────────────────────────┐
│                                                                                                            │
│  Completed job 1 of 2                                                                                      │
│  (beta[&quot;B1&quot;]=0.2, beta[&quot;B2&quot;]=0.7)[repeat 1]                                                                │
│  2020-07-13: DAY: 20  S: 56081987  A: 6  B: 21  C: 63  IW: 6  UV: 1.0  TOTAL POPULATION 56082077           │
│                                                                                                            │
└────────────────────────────────────────────────────────────────────────────────────────────────────────────┘
Computing model run ✔
┌────────────────────────────────────────────────────────────────────────────────────────────────────────────┐
│                                                                                                            │
│  Completed job 2 of 2                                                                                      │
│  (beta[&quot;B1&quot;]=0.3, beta[&quot;B2&quot;]=0.8)[repeat 1]                                                                │
│  2020-07-13: DAY: 20  S: 56081794  A: 47  B: 93  C: 143  IW: 43  UV: 1.0  TOTAL POPULATION 56082077        │
│                                                                                                            │
└────────────────────────────────────────────────────────────────────────────────────────────────────────────┘
</pre></div>
</div>
</div>
<div class="section" id="mapping-stages-to-summaries">
<h2>Mapping stages to summaries<a class="headerlink" href="#mapping-stages-to-summaries" title="Permalink to this headline">¶</a></h2>
<p>By default, the population of a disease sub-stage is summed into a summary
value that has the same name (but missing the sub-stage number). So <code class="docutils literal notranslate"><span class="pre">B1</span></code>,
<code class="docutils literal notranslate"><span class="pre">B2</span></code> and <code class="docutils literal notranslate"><span class="pre">B3</span></code> sub-stages will accumulate into the <code class="docutils literal notranslate"><span class="pre">B</span></code> stage.</p>
<p>You can control this mapping via the <code class="docutils literal notranslate"><span class="pre">mapping</span></code> value in the disease file.
You can set a disease stage to map to any individual stage (e.g. you could
map <code class="docutils literal notranslate"><span class="pre">B1</span></code> to be <code class="docutils literal notranslate"><span class="pre">B1</span></code> only), to any grouped stage (e.g. you could map
<code class="docutils literal notranslate"><span class="pre">C</span></code> to map to the grouped <code class="docutils literal notranslate"><span class="pre">B</span></code> stage), or to any of the standard mapped
stages (<code class="docutils literal notranslate"><span class="pre">E</span></code>, <code class="docutils literal notranslate"><span class="pre">I</span></code>, <code class="docutils literal notranslate"><span class="pre">R</span></code> or <code class="docutils literal notranslate"><span class="pre">*</span></code>).</p>
<p>For example, you could output every stage to the summary via;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;stage&quot;</span>            <span class="p">:</span> <span class="p">[</span> <span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;B1&quot;</span><span class="p">,</span> <span class="s2">&quot;B2&quot;</span><span class="p">,</span> <span class="s2">&quot;B3&quot;</span><span class="p">,</span> <span class="s2">&quot;C&quot;</span> <span class="p">],</span>
    <span class="s2">&quot;mapping&quot;</span>          <span class="p">:</span> <span class="p">[</span> <span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;B1&quot;</span><span class="p">,</span> <span class="s2">&quot;B2&quot;</span><span class="p">,</span> <span class="s2">&quot;B3&quot;</span><span class="p">,</span> <span class="s2">&quot;C&quot;</span> <span class="p">],</span>
    <span class="s2">&quot;beta&quot;</span>             <span class="p">:</span> <span class="p">[</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span>  <span class="mf">0.8</span><span class="p">,</span>  <span class="mf">0.1</span><span class="p">,</span>  <span class="mf">0.0</span> <span class="p">],</span>
    <span class="s2">&quot;progress&quot;</span>         <span class="p">:</span> <span class="p">[</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span>  <span class="mf">1.0</span><span class="p">,</span>  <span class="mf">1.0</span><span class="p">,</span>  <span class="mf">0.0</span> <span class="p">],</span>
    <span class="s2">&quot;too_ill_to_move&quot;</span>  <span class="p">:</span> <span class="p">[</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span>  <span class="mf">0.2</span><span class="p">,</span>  <span class="mf">0.8</span><span class="p">,</span>  <span class="mf">0.0</span> <span class="p">],</span>
    <span class="s2">&quot;contrib_foi&quot;</span>      <span class="p">:</span> <span class="p">[</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span>  <span class="mf">1.0</span><span class="p">,</span>  <span class="mf">1.0</span><span class="p">,</span>  <span class="mf">0.0</span> <span class="p">],</span>
    <span class="s2">&quot;start_symptom&quot;</span>    <span class="p">:</span> <span class="mi">1</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Running <code class="docutils literal notranslate"><span class="pre">metawards</span></code> using this file will tell it to output every stage,
e.g.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ Day 0 ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
Loading additional seeds from /Users/chris/GitHub/MetaWardsData/extra_seeds/ExtraSeedsLondon.dat
(1, 255, 5, None)
S: 56082077  A: 0  B1: 0  B2: 0  B3: 0  C: 0  IW: 0  POPULATION: 56082077

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ Day 1 ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
seeding play_infections[0][255] += 5
S: 56082072  A: 0  B1: 5  B2: 0  B3: 0  C: 0  IW: 0  POPULATION: 56082077
Number of infections: 5

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ Day 2 ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
S: 56082068  A: 4  B1: 0  B2: 5  B3: 0  C: 0  IW: 4  POPULATION: 56082077
Number of infections: 9

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ Day 3 ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
S: 56082064  A: 4  B1: 4  B2: 0  B3: 5  C: 0  IW: 3  POPULATION: 56082077
Number of infections: 13

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ Day 4 ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
S: 56082061  A: 3  B1: 4  B2: 4  B3: 0  C: 5  IW: 3  POPULATION: 56082077
Number of infections: 16

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ Day 5 ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
S: 56082056  A: 5  B1: 3  B2: 4  B3: 4  C: 5  IW: 4  POPULATION: 56082077
Number of infections: 21

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ Day 6 ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
S: 56082046  A: 10  B1: 5  B2: 3  B3: 4  C: 9  IW: 9  POPULATION: 56082077
Number of infections: 31

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ Day 7 ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
S: 56082044  A: 2  B1: 10  B2: 5  B3: 3  C: 13  IW: 2  POPULATION: 56082077
Number of infections: 33

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ Day 8 ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
S: 56082036  A: 8  B1: 2  B2: 10  B3: 5  C: 16  IW: 8  POPULATION: 56082077
Number of infections: 41

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ Day 9 ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
S: 56082018  A: 18  B1: 8  B2: 2  B3: 10  C: 21  IW: 14  POPULATION: 56082077
Number of infections: 59

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ Day 10 ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
S: 56082010  A: 8  B1: 18  B2: 8  B3: 2  C: 31  IW: 8  POPULATION: 56082077
Number of infections: 67
</pre></div>
</div>
<p>Alternatively, you can map your named stages to standard named accumulators,
e.g.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;stage&quot;</span>            <span class="p">:</span> <span class="p">[</span> <span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;B1&quot;</span><span class="p">,</span> <span class="s2">&quot;B2&quot;</span><span class="p">,</span> <span class="s2">&quot;B3&quot;</span><span class="p">,</span> <span class="s2">&quot;C&quot;</span> <span class="p">],</span>
    <span class="s2">&quot;mapping&quot;</span>          <span class="p">:</span> <span class="p">[</span> <span class="s2">&quot;E&quot;</span><span class="p">,</span> <span class="s2">&quot;I&quot;</span><span class="p">,</span>  <span class="s2">&quot;I&quot;</span><span class="p">,</span>  <span class="s2">&quot;I&quot;</span><span class="p">,</span>  <span class="s2">&quot;R&quot;</span> <span class="p">],</span>
    <span class="s2">&quot;beta&quot;</span>             <span class="p">:</span> <span class="p">[</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span>  <span class="mf">0.8</span><span class="p">,</span>  <span class="mf">0.1</span><span class="p">,</span>  <span class="mf">0.0</span> <span class="p">],</span>
    <span class="s2">&quot;progress&quot;</span>         <span class="p">:</span> <span class="p">[</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span>  <span class="mf">1.0</span><span class="p">,</span>  <span class="mf">1.0</span><span class="p">,</span>  <span class="mf">0.0</span> <span class="p">],</span>
    <span class="s2">&quot;too_ill_to_move&quot;</span>  <span class="p">:</span> <span class="p">[</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span>  <span class="mf">0.2</span><span class="p">,</span>  <span class="mf">0.8</span><span class="p">,</span>  <span class="mf">0.0</span> <span class="p">],</span>
    <span class="s2">&quot;contrib_foi&quot;</span>      <span class="p">:</span> <span class="p">[</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span>  <span class="mf">1.0</span><span class="p">,</span>  <span class="mf">1.0</span><span class="p">,</span>  <span class="mf">0.0</span> <span class="p">],</span>
    <span class="s2">&quot;start_symptom&quot;</span>    <span class="p">:</span> <span class="mi">1</span>
<span class="p">}</span>
</pre></div>
</div>
<p>would count <code class="docutils literal notranslate"><span class="pre">A</span></code> as a latent <code class="docutils literal notranslate"><span class="pre">E</span></code> stage, <code class="docutils literal notranslate"><span class="pre">B1</span></code> to <code class="docutils literal notranslate"><span class="pre">B3</span></code> would be
infected <code class="docutils literal notranslate"><span class="pre">I</span></code> stages, and <code class="docutils literal notranslate"><span class="pre">C</span></code> would be accumulated as a <code class="docutils literal notranslate"><span class="pre">R</span></code> stage.</p>
<p>Running with this file would give;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ Day 0 ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
Loading additional seeds from /Users/chris/GitHub/MetaWardsData/extra_seeds/ExtraSeedsLondon.dat
(1, 255, 5, None)
S: 56082077  E: 0  I: 0  R: 0  IW: 0  POPULATION: 56082077

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ Day 1 ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
seeding play_infections[0][255] += 5
S: 56082072  E: 0  I: 5  R: 0  IW: 0  POPULATION: 56082077
Number of infections: 5

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ Day 2 ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
S: 56082072  E: 0  I: 5  R: 0  IW: 0  POPULATION: 56082077
Number of infections: 5

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ Day 3 ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
S: 56082068  E: 4  I: 5  R: 0  IW: 4  POPULATION: 56082077
Number of infections: 9

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ Day 4 ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
S: 56082068  E: 0  I: 4  R: 5  IW: 0  POPULATION: 56082077
Number of infections: 4

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ Day 5 ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
S: 56082068  E: 0  I: 4  R: 5  IW: 0  POPULATION: 56082077
Number of infections: 4

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ Day 6 ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
S: 56082064  E: 4  I: 4  R: 5  IW: 4  POPULATION: 56082077
Number of infections: 8

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ Day 7 ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
S: 56082064  E: 0  I: 4  R: 9  IW: 0  POPULATION: 56082077
Number of infections: 4

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ Day 8 ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
S: 56082064  E: 0  I: 4  R: 9  IW: 0  POPULATION: 56082077
Number of infections: 4

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ Day 9 ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
S: 56082062  E: 2  I: 4  R: 9  IW: 2  POPULATION: 56082077
Number of infections: 6

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ Day 10 ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
S: 56082061  E: 1  I: 2  R: 13  IW: 1  POPULATION: 56082077
Number of infections: 3
</pre></div>
</div>
<p>while the original stage names are still accessible in the
<code class="docutils literal notranslate"><span class="pre">output/total_infections.csv.bz2</span></code>, <code class="docutils literal notranslate"><span class="pre">output/number_wards_infected.csv.bz2</span></code>
files etc.</p>
<p>One advantage of doing this is that now, <code class="docutils literal notranslate"><span class="pre">C</span></code> is correctly interpreted
as an <code class="docutils literal notranslate"><span class="pre">R</span></code> state, and so <code class="docutils literal notranslate"><span class="pre">metawards</span></code> will exit correctly once the
outbreak has died out and all individuals are left in <code class="docutils literal notranslate"><span class="pre">S</span></code> or <code class="docutils literal notranslate"><span class="pre">C</span></code>.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="06_hospital.html" class="btn btn-neutral float-right" title="Modelling a Hospital" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="04_icu.html" class="btn btn-neutral float-left" title="Modelling the ICU" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
      <span class="lastupdated">
        Last updated on Feb 11, 2021.
      </span>

    </p>
  </div> 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>