

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Features &mdash; MetaWards Documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="_static/favicon.ico"/>
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/custom.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Installation instructions" href="install.html" />
    <link rel="prev" title="MetaWards" href="index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html">
          

          
            
            <img src="_static/logo.jpg" class="logo" alt="Logo"/>
          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
  <div id="version_box"></div>
</div>


          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Features</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#software-design">Software design</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation instructions</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="model_data.html">Model data</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="quickstart/index.html">Quick Start Guide</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="tutorial/index.html">Tutorial</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="fileformats/index.html">Input files and formats</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="usage.html">Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="cluster_usage.html">Running on a cluster</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="support.html">Help and support</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="devsupport.html">Developer Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="roadmap.html">Roadmap</a></li>
<li class="toctree-l1"><a class="reference internal" href="packaging.html">Packaging releases</a></li>
<li class="toctree-l1"><a class="reference internal" href="development.html">Developer’s guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="snaglist.html">Snag list</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="api/index.html">Documentation</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Changelog</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="acknowledgements.html">Acknowledgements</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">MetaWards</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Features</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
    
  </ul>

  
  <div class="rst-breadcrumbs-buttons" role="navigation" aria-label="breadcrumb navigation">
      
        <a href="install.html" class="btn btn-neutral float-right" title="Installation instructions" accesskey="n">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral float-left" title="MetaWards" accesskey="p"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
      
  </div>
  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="features">
<h1>Features<a class="headerlink" href="#features" title="Permalink to this headline">¶</a></h1>
<div class="align-right figure" id="id1" style="width: 35%">
<a class="reference internal image-reference" href="_images/uq4map.jpg"><img alt="Map of an outbreak modelled in England and Wales" src="_images/uq4map.jpg" style="width: 100%;" /></a>
<p class="caption"><span class="caption-text"><a class="reference external" href="https://uq4covid.github.io/vignettes/metawards_plot">Analysis of a simulation</a>
run that used MetaWards to chart disease spread across England and Wales.</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</div>
<p>MetaWards is a SIR-based metapopulation disease modelling program. The
software models individuals who move as metapopulations between
home wards and work (or play) wards. This is a highly flexible program,
that can model custom geographies, networks, diseases and demographics.
You can use MetaWards directly from within Python (including Jupyter),
R (including RStudio) or from the command line (terminal / console).</p>
<p><strong>For more information, take a look at the</strong> <a class="reference internal" href="quickstart/index.html"><span class="doc">quick start guide</span></a>.</p>
<p>The program is designed to enable researchers to model how an infection
may spread, and what impact different control measures or individual
behaviours may make.</p>
<p>To this end, MetaWards features;</p>
<div class="align-right figure" id="id2" style="width: 35%">
<a class="reference internal image-reference" href="_images/demographic_model.jpg"><img alt="Output during modelling different self-isolation durations" src="_images/demographic_model.jpg" style="width: 100%;" /></a>
<p class="caption"><span class="caption-text">Multiple connected networks enable complex scenarios to be modelled</span><a class="headerlink" href="#id2" title="Permalink to this image">¶</a></p>
</div>
<ul class="simple">
<li><p>a flexible plugin architecture that makes it easy to implement new
control measures. For example, the tutorial shows how this can be
used to
<a class="reference internal" href="tutorial/part05/03_custom.html"><span class="doc">model shielding</span></a>,
<a class="reference internal" href="tutorial/part03/06_scan_lockdown.html"><span class="doc">different lockdown scenarios</span></a>
and to
<a class="reference internal" href="tutorial/part06/02_duration.html"><span class="doc">investigate necessary durations of quarantine or self-isolation</span></a>.</p></li>
<li><p>multi-network demographic support. Multiple networks can be run as
a single combined group, with custom plugins used to merge data
between networks, and conditionally move individuals between
different demographics. We’ve used to model shielding and self-isolation,
hospital admissions, impact of individuals returning from holidays etc.</p></li>
</ul>
<div class="align-right figure" id="id3" style="width: 35%">
<a class="reference internal image-reference" href="_images/tutorial_5_3_1_demographics1.jpg"><img alt="Results of a shielding experiment" src="_images/tutorial_5_3_1_demographics1.jpg" style="width: 100%;" /></a>
<p class="caption"><span class="caption-text">Built in metawards-plot tool for rapid visualisation of results,
including across multiple networks</span><a class="headerlink" href="#id3" title="Permalink to this image">¶</a></p>
</div>
<ul class="simple">
<li><p>per-ward custom parameter support. Different wards can have different
parameters, meaning that you can easily model local behaviour
(e.g. local lockdowns, changes in local control measures etc.).</p></li>
<li><p>complete-detail and full control over horizontal and vertical movements
through disease stages or across demographics. We’ve used this to
<a class="reference internal" href="tutorial/part09/02_vaccinate.html"><span class="doc">model vaccination</span></a> and also
to <a class="reference internal" href="tutorial/part09/03_fading_immunity.html"><span class="doc">model waning immunity</span></a>,
with individuals returned from the R or V stages back to S.</p></li>
<li><p>flexible data output support - again handled using an array of in-built
or user-supplied data extraction plugin functions. Output the data you
need in the format you want to perform analysis.</p></li>
<li><p>full reproducibility support baked in throughout. The code records
enough data to make reproduction easy, with results designed to
be the same given the same inputs, random number seed and number of threads.</p></li>
<li><p>a <a class="reference internal" href="tutorial/index.html"><span class="doc">complete tutorial</span></a> that takes you from beginning to
learn how to run SIR simulations, to writing powerful plugins that let you
model complex scenarios.</p></li>
<li><p>support for scanning design files for optimisation or sensitivity analysis
of nearly all input parameters, plus any user custom parameters used
in the main code or any plugins. These scans can use as much compute
you have available, parallelising individual runs over multiple cores,
and scaling multiple runs up to full supercomputers (if you are lucky
enough to have access to one)…</p></li>
</ul>
<div class="align-right figure" id="id4" style="width: 35%">
<a class="reference internal image-reference" href="_images/rstudio.jpg"><img alt="RStudio screenshot" src="_images/rstudio.jpg" style="width: 100%;" /></a>
<p class="caption"><span class="caption-text">Run MetaWards and analyse results directly within RStudio via the
MetaWards R interface.</span><a class="headerlink" href="#id4" title="Permalink to this image">¶</a></p>
</div>
<ul class="simple">
<li><p>…but - the individual code is optimised and can run happily on small
laptops. Individual national-scale networks fit in approximately
80 MB of memory, and model runs can take 15-90 seconds to perform.
This scales with the number of
demographics that are added, but high performance and low memory consumption
are design goals. Models using only a few wards are kilobytes, and take
less than a second.</p></li>
<li><p><a class="reference internal" href="model_data.html"><span class="doc">flexible input files</span></a> that would enable modelling of any
region or country to be undertaken (subject to good input data).
Models of the UK and England and Wales have been created, and a
Python and R API are provided to make it easy to create custom networks.
These can model everything from individual wards or local geographies,
up to full national- or international-scale metapopulation models.</p></li>
</ul>
<div class="align-right figure" id="id5" style="width: 35%">
<a class="reference internal image-reference" href="_images/pandas_example.jpg"><img alt="Analysing data in pandas" src="_images/pandas_example.jpg" style="width: 100%;" /></a>
<p class="caption"><span class="caption-text">Easily load compressed data files into pandas, R or Excel for analysis</span><a class="headerlink" href="#id5" title="Permalink to this image">¶</a></p>
</div>
<ul class="simple">
<li><p>a colourful, modern and informative console output, with full unicode
support and progress indicators. All outputs are duplicated to
text files to ensure that no data from a run is lost.</p></li>
<li><p>both command-line and API interfaces. Feel free to run MetaWards as
a standalone program, or to use the Python or R API to embed it as part
of a larger framework. A modular, robust design has been used, so
feel free to take and re-use the parts of MetaWards that are most
of use to you.</p></li>
</ul>
<div class="align-right figure" id="id6" style="width: 35%">
<a class="reference internal image-reference" href="_images/parallel_output.jpg"><img alt="Running multiple jobs in parallel" src="_images/parallel_output.jpg" style="width: 100%;" /></a>
<p class="caption"><span class="caption-text">Perform multiple runs in parallel, with live summary updates as
jobs finish</span><a class="headerlink" href="#id6" title="Permalink to this image">¶</a></p>
</div>
<div class="section" id="software-design">
<h2>Software design<a class="headerlink" href="#software-design" title="Permalink to this headline">¶</a></h2>
<p>MetaWards is a modern piece of software that has been engineered following
recognised best practice, e.g. using a modular design,
lots of documentation, copious run-time and unit tests, and following
a “tutorial-driven” development philosophy.</p>
<p>The software is mostly Python, with C used (via cython) to accelerate
key parts. An <a class="reference internal" href="quickstart/01_R.html"><span class="doc">R interface</span></a>
is provided via <a class="reference external" href="https://rstudio.github.io/reticulate/">reticulate</a>.
The code is parallelised using <a class="reference external" href="https://openmp.org">OpenMP</a>,
with multiple model runs parallelised using multiprocessing,
<a class="reference external" href="https://scoop.readthedocs.io">scoop</a> or
<a class="reference external" href="https://mpi4py.readthedocs.io">MPI, via mpi4py</a>.</p>
<p>We take testing very seriously, and have lots of unit, integration and
run-time tests. These are run as part of our CI/CD system deployed
via <a class="reference external" href="https://github.com/metawards/MetaWards/actions">GitHub Actions</a>
The code has in-built developer
<a class="reference internal" href="devsupport.html"><span class="doc">support for debug logging and profiling</span></a>, with
<a class="reference internal" href="api/index.html"><span class="doc">full API docs available</span></a>
that we hope will help new developers get quickly up to speed.</p>
<p>We also take versioning and backwards compatibility seriously. We follow
the <a class="reference external" href="https://semver.org">semantic versioning</a>  system for the main API,
which should give confidence
to anyone wanting to build on top of MetaWards. We also maintain
compatibility of inputs and outputs, with the strong aim that all tutorials
will be runnable, as-is, in future versions of the code.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="install.html" class="btn btn-neutral float-right" title="Installation instructions" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="index.html" class="btn btn-neutral float-left" title="MetaWards" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
      <span class="lastupdated">
        Last updated on Feb 09, 2021.
      </span>

    </p>
  </div> 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>